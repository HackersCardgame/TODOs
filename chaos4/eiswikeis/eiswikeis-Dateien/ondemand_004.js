(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{"+/OB":function(t,e,i){i("ax0f")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},"+nzf":function(t,e){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var n=new Uint8Array(16);t.exports=function(){return i(n),n}}else{var a=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),a[e]=t>>>((3&e)<<3)&255;return a}}},"+oxZ":function(t,e,i){var n=i("9JhN"),a=i("Ew2P"),r=i("6OVi"),s=i("WxKw");for(var o in a){var c=n[o],l=c&&c.prototype;if(l&&l.forEach!==r)try{s(l,"forEach",r)}catch(t){l.forEach=r}}},"/C0/":function(t,e,i){"use strict";i("IAdD");var n=i("ERkP"),a=i("Lsrn"),r=i("k/Ka");const s=(t={})=>Object(r.a)("svg",Object.assign({},t,{style:[a.a.root,t.style],viewBox:"0 0 24 24"}),n.createElement("g",null,n.createElement("path",{d:"M15.644 11.58L10.43 8.26c-.155-.1-.35-.105-.51-.018-.16.088-.26.256-.26.438v6.64c0 .183.1.35.26.438.074.04.157.062.24.062.093 0 .187-.026.27-.078l5.214-3.32c.144-.09.23-.25.23-.42s-.086-.332-.23-.423zM2.5 22.25c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06l5.25-5.25c.293-.294.768-.294 1.06 0s.294.767 0 1.06l-5.25 5.25c-.146.147-.338.22-.53.22zM15.208 9.542c-.192 0-.384-.073-.53-.22-.293-.293-.293-.768 0-1.06L20.97 1.97c.293-.293.768-.293 1.06 0s.294.768 0 1.06l-6.29 6.293c-.148.146-.34.22-.532.22z"}),n.createElement("path",{d:"M3.815 17.062c-.27 0-.53-.146-.664-.4C2.4 15.236 2 13.623 2 12 2 6.486 6.486 2 12 2c1.592 0 3.176.384 4.582 1.11.368.188.512.64.322 1.01-.19.368-.643.515-1.01.32-1.21-.624-2.52-.94-3.894-.94-4.687 0-8.5 3.813-8.5 8.5 0 1.38.338 2.75.978 3.96.193.367.053.82-.313 1.015-.112.06-.232.087-.35.087zM12 22c-1.59 0-3.175-.384-4.58-1.11-.37-.188-.513-.64-.323-1.01.19-.366.644-.514 1.01-.32 1.21.624 2.52.94 3.893.94 4.687 0 8.5-3.813 8.5-8.5 0-1.364-.33-2.72-.957-3.922-.19-.367-.05-.82.318-1.012.37-.19.82-.05 1.013.318C21.61 8.8 22 10.396 22 12c0 5.514-4.486 10-10 10z"})));s.metadata={width:24,height:24},e.a=s},"1t7P":function(t,e,i){"use strict";var n=i("ax0f"),a=i("9JhN"),r=i("VCi3"),s=i("DpO5"),o=i("1Mu/"),c=i("56Cj"),l=i("TbR9"),u=i("ct80"),h=i("8aeu"),d=i("xt6W"),p=i("dSaG"),y=i("FXyv"),m=i("N9G2"),f=i("N4z3"),v=i("CD8Q"),_=i("lhjL"),g=i("guiJ"),b=i("DEeE"),P=i("ZdBB"),T=i("7lg/"),E=i("JAL5"),w=i("GFpt"),S=i("q9+l"),M=i("4Sk5"),I=i("WxKw"),A=i("uLp7"),C=i("TN3B"),k=i("MyxS"),O=i("1odi"),L=i("HYrn"),N=i("fVMg"),x=i("TkGI"),R=i("aokA"),V=i("+kY7"),D=i("zc29"),F=i("0FSu").forEach,W=k("hidden"),H=N("toPrimitive"),U=D.set,B=D.getterFor("Symbol"),j=Object.prototype,z=a.Symbol,G=r("JSON","stringify"),Y=w.f,K=S.f,q=T.f,J=M.f,X=C("symbols"),Z=C("op-symbols"),Q=C("string-to-symbol-registry"),$=C("symbol-to-string-registry"),tt=C("wks"),et=a.QObject,it=!et||!et.prototype||!et.prototype.findChild,nt=o&&u((function(){return 7!=g(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=Y(j,e);n&&delete j[e],K(t,e,i),n&&t!==j&&K(j,e,n)}:K,at=function(t,e){var i=X[t]=g(z.prototype);return U(i,{type:"Symbol",tag:t,description:e}),o||(i.description=e),i},rt=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},st=function(t,e,i){t===j&&st(Z,e,i),y(t);var n=v(e,!0);return y(i),h(X,n)?(i.enumerable?(h(t,W)&&t[W][n]&&(t[W][n]=!1),i=g(i,{enumerable:_(0,!1)})):(h(t,W)||K(t,W,_(1,{})),t[W][n]=!0),nt(t,n,i)):K(t,n,i)},ot=function(t,e){y(t);var i=f(e),n=b(i).concat(ht(i));return F(n,(function(e){o&&!ct.call(i,e)||st(t,e,i[e])})),t},ct=function(t){var e=v(t,!0),i=J.call(this,e);return!(this===j&&h(X,e)&&!h(Z,e))&&(!(i||!h(this,e)||!h(X,e)||h(this,W)&&this[W][e])||i)},lt=function(t,e){var i=f(t),n=v(e,!0);if(i!==j||!h(X,n)||h(Z,n)){var a=Y(i,n);return!a||!h(X,n)||h(i,W)&&i[W][n]||(a.enumerable=!0),a}},ut=function(t){var e=q(f(t)),i=[];return F(e,(function(t){h(X,t)||h(O,t)||i.push(t)})),i},ht=function(t){var e=t===j,i=q(e?Z:f(t)),n=[];return F(i,(function(t){!h(X,t)||e&&!h(j,t)||n.push(X[t])})),n};(c||(A((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=L(t),i=function(t){this===j&&i.call(Z,t),h(this,W)&&h(this[W],e)&&(this[W][e]=!1),nt(this,e,_(1,t))};return o&&it&&nt(j,e,{configurable:!0,set:i}),at(e,t)}).prototype,"toString",(function(){return B(this).tag})),A(z,"withoutSetter",(function(t){return at(L(t),t)})),M.f=ct,S.f=st,w.f=lt,P.f=T.f=ut,E.f=ht,x.f=function(t){return at(N(t),t)},o&&(K(z.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),s||A(j,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),F(b(tt),(function(t){R(t)})),n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(Q,e))return Q[e];var i=z(e);return Q[e]=i,$[i]=e,i},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(h($,t))return $[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!o},{create:function(t,e){return void 0===e?g(t):ot(g(t),e)},defineProperty:st,defineProperties:ot,getOwnPropertyDescriptor:lt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ut,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:u((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(m(t))}}),G)&&n({target:"JSON",stat:!0,forced:!c||u((function(){var t=z();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}))},{stringify:function(t,e,i){for(var n,a=[t],r=1;arguments.length>r;)a.push(arguments[r++]);if(n=e,(p(e)||void 0!==t)&&!rt(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!rt(e))return e}),a[1]=e,G.apply(null,a)}});z.prototype[H]||I(z.prototype,H,z.prototype.valueOf),V(z,"Symbol"),O[W]=!0},"42G/":function(t,e){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,a=i;return[a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],"-",a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]],a[t[n++]]].join("")}},5878:function(t,e,i){i("ax0f")({target:"Function",proto:!0},{bind:i("zh11")})},"6OVi":function(t,e,i){"use strict";var n=i("0FSu").forEach,a=i("f4p7"),r=i("znGZ"),s=a("forEach"),o=r("forEach");t.exports=s&&o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"6U7i":function(t,e,i){"use strict";var n=i("1Mu/"),a=i("9JhN"),r=i("66wQ"),s=i("uLp7"),o=i("8aeu"),c=i("amH4"),l=i("j6nH"),u=i("CD8Q"),h=i("ct80"),d=i("guiJ"),p=i("ZdBB").f,y=i("GFpt").f,m=i("q9+l").f,f=i("Ya2h").trim,v=a.Number,_=v.prototype,g="Number"==c(d(_)),b=function(t){var e,i,n,a,r,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=f(l)).charCodeAt(0))||45===e){if(88===(i=l.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(s=(r=l.slice(2)).length,o=0;o<s;o++)if((c=r.charCodeAt(o))<48||c>a)return NaN;return parseInt(r,n)}return+l};if(r("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var P,T=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof T&&(g?h((function(){_.valueOf.call(i)})):"Number"!=c(i))?l(new v(b(e)),i,T):b(e)},E=n?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;E.length>w;w++)o(v,P=E[w])&&!o(T,P)&&m(T,P,y(v,P));T.prototype=_,_.constructor=T,s(a,"Number",T)}},"7lg/":function(t,e,i){var n=i("N4z3"),a=i("ZdBB").f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?function(t){try{return a(t)}catch(t){return s.slice()}}(t):a(n(t))}},"7x/C":function(t,e,i){var n=i("POz8"),a=i("uLp7"),r=i("UmhL");n||a(Object.prototype,"toString",r,{unsafe:!0})},PRhO:function(t,e,i){var n=i("VjGk"),a=i("qL0z"),r=a;r.v1=n,r.v4=a,t.exports=r},QHXq:function(t,e,i){"use strict";i.r(e),i.d(e,"InlinePlayerContainer",(function(){return Ii}));i("IAdD");var n=i("97Jx"),a=i.n(n),r=i("LdEA"),s=i.n(r),o=i("KEM+"),c=i.n(o),l=i("ERkP"),u=i("rxPX"),h=i("0KEI"),d=i("6rlp"),p=i("H9MA"),y=i("RqPI"),m=i("yr4d"),f=i("XOJV"),v=i("eXeu");const _=()=>(t,e,{api:i})=>i.getHttpClient(),g=(t,e)=>{const i=e.source&&e.source.videoId;return i&&"tweet"===i.type?i.id:void 0};var b=Object(u.a)().propsFromState(()=>({dataSaverMode:p.c,language:y.f,sourceTweet:f.a.createHydratedTweetSelector(g)})).adjustStateProps(({dataSaverMode:t,language:e,sourceTweet:i})=>({dataSaverMode:t,language:e,mediaAvailability:i&&Object(v.b)(i)||void 0,publisherId:i?Object(v.c)(i):void 0})).propsFromActions(()=>({createLocalApiErrorHandler:Object(h.d)("INLINE_PLAYER_CONTAINER"),getTwitterAuthedHttpClient:_,logPromotedVideoEvent:d.b,tweetAdProvider:m.b})).withAnalytics(),P=i("wrlS"),T=i("aWzz"),E=i("6v1f"),w=i("ZeN/"),S=i("rHpw"),M=i("MWbm");const I=t=>{t.preventDefault(),t.stopPropagation()};var A=({children:t,testID:e})=>l.createElement(M.a,{onClick:I,style:S.a.absoluteFill,testID:e},t),C=i("epkG"),k=i("3XMw"),O=i.n(k),L=i("mN6z"),N=i("/NU0"),x=(i("u+Xj"),i("ylrv"));class R{constructor(t,e,i){this.placement=t,this.obstructions=e,this.layerId=i}getPositionData(){return{percentVisible:this.visibleFraction(),percentOfViewportOccupied:this.placement.viewportOccupiedFraction(),sizesInfo:{viewportSize:this.placement.viewport,mediaSize:this.placement.item}}}visibleFraction(){const t=this.placement.visiblePart();if(!t)return 0;const e=Object(N.a)(this.layerId)?this.obstructions.getObstructionAboveLayer(this.layerId,t):this.obstructions.getTotalObstruction(t),i=x.a.area(this.placement.item),n=(1-e)*x.a.area(t);return i>0?n/i:0}top(){return this.placement.item.top}distanceToCenter(){return this.placement.verticalDistanceToViewportCenter()}distanceToTop(){return this.placement.verticalDistanceToViewportTop()}scrollY(){return this.placement.scrollY}}var V,D,F,W,H,U=i("7nmT"),B=i.n(U),j=i("zHh/"),z="videoPlayer",G=i("aITJ"),Y=(i("1t7P"),i("jQ/y"),i("aLgo"),i("hBpG"),i("jwue"),i("hCOa"),i("vrRf"),i("plBw"),i("lTEL"),i("z84I"),i("KOtZ"),i("M+/F"),i("+/OB"),i("cARO"),i("5878"),i("ho0z"),i("6U7i"),i("ssvU"),i("kH1Z"),i("+KXO"),i("7x/C"),i("JtPf"),i("KqXw"),i("DZ+c"),i("87if"),i("+oxZ"),i("kYxP"),i("sVFb"),i("1Pcy")),K=i.n(Y),q=i("W/Kd"),J=i.n(q),X=i("RhWx"),Z=i.n(X),Q=i("r2q8"),$=i.n(Q),tt=i("PRhO"),et=i.n(tt);function it(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nt(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var at="AD_SKIP_EVENT",rt="CONFIG_LOADED_EVENT",st="CTA_CLICK_EVENT",ot="CTA_IMPRESSION_EVENT",ct="ERROR_EVENT",lt="FULL_SCREEN_EVENT",ut="GROUPM_VIEW_EVENT",ht="HEARTBEAT_EVENT",dt="HEARTBEAT_START_EVENT",pt="INITIAL_CTA_IMPRESSION_EVENT",yt="INITIAL_INTEND_TO_PLAY_EVENT",mt="INTEND_TO_PLAY_EVENT",ft="LOOP_EVENT",vt="MRC_AUDIBLE_VIEW_EVENT",_t="MRC_VIEW_EVENT",gt="MUTE_EVENT",bt="ONE_SEC_VIEW_EVENT",Pt="SIX_SEC_VIEW_EVENT",Tt="SHORT_FORM_COMPLETE_EVENT",Et="PAUSE_EVENT",wt="PLAY_EVENT",St="PLAY_FROM_TAP_EVENT",Mt="PLAYBACK_25_EVENT",It="PLAYBACK_50_EVENT",At="PLAYBACK_75_EVENT",Ct="PLAYBACK_95_EVENT",kt="PLAYBACK_COMPLETE_EVENT",Ot="PLAYBACK_ERROR_EVENT",Lt="PLAYBACK_LAPSE_EVENT",Nt="PLAYBACK_START_EVENT",xt="REPLAY_EVENT",Rt="REWIND_EVENT",Vt="SHRINK_EVENT",Dt="STARTUP_ERROR_EVENT",Ft="TEARDOWN_EVENT",Wt="TICK_EVENT",Ht="TRACK_FINISHED_EVENT",Ut="UNMUTE_EVENT",Bt="VIDEO_SESSION_EVENT",jt="VIDEO_QUALITY_VIEW_EVENT",zt="VIDEO_VIEW_EVENT",Gt="VIEW_THRESHOLD_EVENT",Yt="ad",Kt="content",qt="broadcast",Jt="gif",Xt="live",Zt="media_entity",Qt="partner_video",$t="periscope",te="vine",ee="vmap",ie=Object.assign({},{event:"url",visit:"url",url:"url",image:"url",watch:"url"},{watch_now:"watch",visit_site:"url",shop:"url",see_more:"url",go_to:"url"});function ne(t){return re(t,t.source.trackId)}function ae(t){return re(t,t.currentTrackId)}function re(t,e){return t.tracks.find((function(t){return e===t.id}))}function se(t){return t.tracks.find((function(t){return Yt===t.displayType}))}function oe(t){return Boolean(t)&&t.isPlaying&&!t.isScrubbing&&!t.isMuted}var ce=((V={})[zt]="creativeView",V[Mt]="firstQuartile",V[It]="midpoint",V[At]="thirdQuartile",V[kt]="complete",V[wt]="resume",V[Et]="pause",V[Rt]="rewind",V[ct]="adError",V),le=function(){function t(t){var e=this;Object.keys(ce).forEach((function(i){t.on(i,(function(t){e.fireBeacon(ce[i],t)}))})),t.on(Nt,this.onPlaybackStart.bind(this))}var e=t.prototype;return e.onPlaybackStart=function(t){this.fireBeacon("start",t),this.fireBeacon("adImpression",t)},e.fireBeacon=function(t,e){var i=ae(e);if(void 0!==i&&void 0!==i.beacons&&void 0!==i.beacons[t])for(var n,a=it(i.beacons[t]);!(n=a()).done;){var r=n.value;(new window.Image).src=r}},t}(),ue=function(){function t(t){this.analytics=t,this.hasFiredOnTrackMap={},this.analytics.on(ot,this.onCtaImpressionEvent.bind(this))}return t.prototype.onCtaImpressionEvent=function(t){var e=t.currentTrackId;this.hasFiredOnTrackMap[e]||(this.hasFiredOnTrackMap[e]=!0,this.analytics.emit(pt,t))},t}(),he=function(){function t(t){this.analytics=t,this.hasStarted=!1,this.hasFired=!1,this.analytics.on(Nt,this.onPlaybackStartEvent.bind(this)),this.analytics.on(mt,this.onShowEvent.bind(this)),this.analytics.on(ct,this.onErrorEvent.bind(this))}var e=t.prototype;return e.onPlaybackStartEvent=function(){this.hasStarted=!0},e.onShowEvent=function(){this.intentToPlayTime=new Date},e.onErrorEvent=function(t,e){var i=this.constructClientMediaEventError(t,e);if(!this.hasStarted&&!this.hasFired){var n,a=void 0!==this.intentToPlayTime?new Date-this.intentToPlayTime:void 0;i&&(n={latency_millis:a,error:i}),this.analytics.emit(Dt,t,Object.assign({latency:a},e),n),this.hasFired=!0}this.analytics.emit(Ot,t,e,i)},e.constructClientMediaEventError=function(t,e){var i=e&&e.media_details&&e.media_details.media_error||{};return{is_fatal:i.is_fatal,category:i.category,message:i.message,retry_count:i.retry_count}},t}(),de=function(){function t(t){this.bufferingCount=0,this.bufferingDurationMs=0,this.bufferingBeginTimeMs=void 0,t.on(Wt,this.onTickEvent.bind(this)),t.on(dt,this.onHeartbeatStart.bind(this)),t.on(ht,this.onHeartbeat.bind(this))}var e=t.prototype;return e.onHeartbeat=function(t){this.reset(t)},e.onHeartbeatStart=function(t){this.reset(t)},e.onTickEvent=function(t){var e=ae(t);void 0!==e&&(e.isBuffering&&null==this.bufferingBeginTimeMs?(this.bufferingBeginTimeMs=Date.now(),this.bufferingCount++):e.isBuffering||null==this.bufferingBeginTimeMs||(this.bufferingDurationMs+=Date.now()-this.bufferingBeginTimeMs,this.bufferingBeginTimeMs=void 0))},e.getBufferTime=function(t){var e=ae(t);if(void 0!==e){var i=this.bufferingDurationMs;return e.isBuffering&&null!=this.bufferingBeginTimeMs&&(i+=Date.now()-this.bufferingBeginTimeMs),i}},e.reset=function(t){var e=ae(t);void 0!==e&&(this.bufferingBeginTimeMs=e.isBuffering?Date.now():void 0,this.bufferingCount=e.isBuffering?1:0,this.bufferingDurationMs=0)},t}();function pe(t){return"number"!=typeof t||Number.isNaN(t)||t===1/0||t===-1/0?"string"==typeof t?t:void 0:t.toString()}var ye=function(){function t(t){this.analytics=t,this.bufferingDurationListener=new de(t),this.lastKnownDataUsageBytes=0,this.audibleDuration=0,this.bitrateHistory=[],this.latencyHistory=[],this.previousTickTimestamp,this.analytics.on(Wt,this.onTickEvent.bind(this)),this.analytics.on(wt,this.onPlayEvent.bind(this)),this.analytics.on(Nt,this.onPlaybackStartEvent.bind(this)),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this)),this.analytics.on(ct,this.onErrorEvent.bind(this)),this.analytics.on(Et,this.onPauseEvent.bind(this)),this.analytics.on(Ft,this.onTeardownEvent.bind(this)),this.analytics.on(ft,this.onLoopEvent.bind(this)),this.analytics.on(at,this.onAdSkip.bind(this))}var e=t.prototype;return e.onTickEvent=function(t){var e=ae(t);if(void 0!==e){if(this.updateTimesOnTick(e,t),this.updatePerfMetrics(e),t.isScrubbing?this.stopPolling():t.isPlaying&&this.startPolling(t),void 0!==this.lastKnownPlayerState){var i=this.lastKnownPlayerState.percentVisible,n=t.percentVisible;(i>0&&0===n||0===i&&n>0)&&(this.stopPolling(),this.startPolling(t))}this.lastKnownPlayerState=t,this.previousTickTimestamp=Date.now()}},e.onPlayEvent=function(t){this.hasPlaybackStarted&&this.startPolling(t),this.lastKnownPlayerState=t},e.onPlaybackStartEvent=function(t){this.startPolling(t),this.lastKnownPlayerState=t,this.hasPlaybackStarted=!0},e.onTrackFinishedEvent=function(t){this.hasPlaybackStarted=!1,void 0!==ae(t)&&(this.stopPolling(),this.lastKnownPlayerState=t)},e.onErrorEvent=function(t,e){e&&e.media_details&&e.media_details.media_error&&e.media_details.media_error.is_fatal&&(this.stopPolling(),this.lastKnownPlayerState=t)},e.onPauseEvent=function(t,e){this.stopPolling(),this.lastKnownPlayerState=t},e.onTeardownEvent=function(t,e){this.stopPolling(!0),this.lastKnownPlayerState=t},e.onLoopEvent=function(t){this.startPolling(t)},e.onAdSkip=function(){this.stopPolling()},e.updateTimesOnTick=function(t,e){var i;void 0!==(i=t.contentType===qt||t.contentType===Xt||t.contentType===$t?t.absoluteTimeMs:t.currentTimeMs)&&(oe(e)&&void 0!==this.lastTimeMs&&(this.audibleDuration+=i-this.lastTimeMs),this.lastTimeMs=i,void 0===this.startTimeMs&&(this.startTimeMs=i))},e.startPolling=function(t){var e=ne(t);void 0===this.intervalId&&void 0!==e&&e.contentType!==te&&(this.analytics.emit(dt,t),this.onHeartbeatStart(t))},e.stopPolling=function(t){(this.intervalId||t)&&(this.onHeartbeat(),this.lastTimeMs=void 0,this.startTimeMs=void 0),void 0!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)},e.onHeartbeatStart=function(t){this.intervalId=setInterval(this.onHeartbeat.bind(this),t.heartbeatIntervalMs||5e3),this.lastTimeMs=void 0,this.startTimeMs=void 0,this.bitrateHistory=[],this.latencyHistory=[]},e.updatePerfMetrics=function(t){if(this.previousTickTimestamp){var e=Date.now()-this.previousTickTimestamp;t.currentBitrate&&this.bitrateHistory.push({value:t.currentBitrate,weight:e}),t.liveLatencyMs&&this.latencyHistory.push({value:t.liveLatencyMs,weight:e})}},e.onHeartbeat=function(){var t=this.lastKnownPlayerState;if(t){var e=ae(t),i=this.getProgramDateTimeMs();if(void 0!==i&&void 0!==e){var n=e.currentBitrate?{sampled_bitrate:e.currentBitrate}:{},a=0;t.dataUsageBytes&&(a=t.dataUsageBytes-this.lastKnownDataUsageBytes,this.lastKnownDataUsageBytes=t.dataUsageBytes);var r,s,o={data_usage_bytes:a},c=this.bufferingDurationListener.bufferingCount,l=this.bufferingDurationListener.getBufferTime(t),u=Math.floor(100*t.percentVisible),h=Object.assign({buffering_duration_millis:l,video_visibility:u},{start_program_date_time_millis:i.start_program_date_time_millis,end_program_date_time_millis:i.end_program_date_time_millis},n,o),d={buffering_duration_millis:pe(l),buffering_count:c,percent_in_view:u,sampled_bits_per_second:e.currentBitrate,data_usage_bytes:pe(o.data_usage_bytes),start_program_date_time_millis:pe(i.start_program_date_time_millis),end_program_date_time_millis:pe(i.end_program_date_time_millis),audible_duration_millis:pe(i.audible_duration_millis),bandwidth_estimate_bps:pe(t.bandwidthEstimateBps),bitrate_metrics:(r=this.bitrateHistory,s=fe(r),s&&{min_bps:Math.round(s.min),max_bps:Math.round(s.max),avg_bps:Math.round(s.avg)}),live_or_non_live_heartbeat_metrics:me(e.isLive,this.latencyHistory)};this.analytics.emit(ht,t,h,d)}}},e.getProgramDateTimeMs=function(){if(void 0!==this.startTimeMs&&void 0!==this.lastTimeMs){var t=this.startTimeMs,e=this.lastTimeMs,i=this.audibleDuration;return this.startTimeMs=this.lastTimeMs,this.audibleDuration=0,{start_program_date_time_millis:Math.round(t),end_program_date_time_millis:Math.round(e),audible_duration_millis:Math.round(i)}}return{}},t}();function me(t,e){var i=fe(e);return t?{live_heartbeat_metrics:{latency_metrics:i&&{min_ms:Math.round(i.min),max_ms:Math.round(i.max),avg_ms:Math.round(i.avg)}}}:{non_live_heartbeat_metrics:{}}}function fe(t){if(t&&t.length){var e=t.map((function(t){return t.value}));return{min:Math.min.apply(Math,Z()(e)),max:Math.max.apply(Math,Z()(e)),avg:function(t){var e=t.reduce((function(t,e){return t+e.weight}),0);return t.reduce((function(t,e){return t+e.value*e.weight}),0)/e}(t)}}}var ve=function(){function t(t){this.analytics=t,this.hasFiredOnTrackMap={},this.analytics.on(mt,this.onIntendToPlayEvent.bind(this)),this.analytics.on(xt,this.onIntendToPlayEvent.bind(this)),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this))}var e=t.prototype;return e.onIntendToPlayEvent=function(t){this.hasFiredOnTrackMap[t.currentTrackId]||(this.hasFiredOnTrackMap[t.currentTrackId]=!0,this.analytics.emit(yt,t))},e.onTrackFinishedEvent=function(t){var e=ae(t);e&&(e.shouldLoop||(this.hasFiredOnTrackMap[t.currentTrackId]=!1))},t}(),_e=function(){function t(t){this.analytics=t,this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this))}return t.prototype.onTrackFinishedEvent=function(t){var e=ae(t);void 0!==e&&e.shouldLoop&&this.analytics.emit(ft,t)},t}(),ge={home:"HomeTimeline",list:"Lists",live_broadcast:"BroadcastPage",live_event_timeline:"EventPage",me:"UserTimeline",moments:"Moments",permalink:"TweetCard",profile:"UserTimeline",search:"Search"},be=function(t){return"/api/v2/"+t},Pe="videoStartWatchingLive",Te="videoPingLive",Ee="videoStopWatchingLive",we=((D={})[Pe]={method:"GET",path:be("startPublic")},D[Te]={method:"GET",path:be("pingPublic")},D[Ee]={method:"GET",path:be("stopPublic")},D.videoStartWatchingReplay={method:"GET",path:be("replayViewedPublic")},D.videoPingReplay={method:"GET",path:be("pingReplayViewedPublic")},D.videoStopWatchingReplay={method:"GET",path:be("endReplayViewedPublic")},D),Se=function(){function t(t,e){if(this.httpClient=t,this.idempotenceId=Date.now()+"--"+et()(),e){var i=e.scribeContext,n=e.periscopeComponent;this.pageContext=this.getPageContext(i),this.componentContext=n}}var e=t.prototype;return e.getPageContext=function(t){var e=t.page;return"permalink_overlay"===t.section?"TweetCard":ge[e]||""},e.call=function(t,e){var i={"X-Idempotence":this.idempotenceId},n=we[t],a=n.method,r=n.path;return this.httpClient.dispatch({headers:i,host:"https://proxsee.pscp.tv",method:a,path:r,params:e})},e.videoStartWatching=function(t,e,i){var n=this;return new Promise((function(a,r){("string"!=typeof t||t.length<1)&&r(new Error("Cannot videoStartWatching. lifecycleToken not valid, lifecycleToken="+t));var s=e?"videoStartWatchingReplay":Pe,o={life_cycle_token:t,auto_play:!!i};n.pageContext&&(o.page=n.pageContext),n.componentContext&&(o.component=n.componentContext),n.call(s,o).then((function(t){var e=JSON.parse(t.body).session;e?a(e):r("No valid Session")}),r)}))},e.videoPingWatching=function(t,e){var i=this;return new Promise((function(n,a){("string"!=typeof t||t.length<1)&&a(new Error("Cannot videoPingWatching. session not valid, session="+t));var r=e?"videoPingReplay":Te;i.call(r,{session:t}).then((function(t){JSON.parse(t.body).success?n():a("Ping request failed")}),a)}))},e.videoStopWatching=function(t,e){var i=this;return new Promise((function(n,a){("string"!=typeof t||t.length<1)&&a(new Error("Cannot videoStopWatching. session not valid, session="+t));var r=e?"videoStopWatchingReplay":Ee;i.call(r,{session:t}).then((function(t){JSON.parse(t.body).success?n():a("StopWatching request failed")}),a)}))},t}();var Me=function(){function t(t){this.api=t,this.handleStartWatching=this.handleStartWatching.bind(this),this.updateSession=this.updateSession.bind(this),this.startPingWatching=this.startPingWatching.bind(this),this.isVideoPreview=!1,this.isReplay=!0}var e=t.prototype;return e.updateSession=function(t){this.session=t},e.setStartWatchingTimer=function(){this.startWatchingTimer=setTimeout(this.handleStartWatching,3e3)},e.clearStartWatchingTimer=function(){this.startWatchingTimer&&clearTimeout(this.startWatchingTimer)},e.handleStartWatching=function(){if(!this.isWatching){this.stopPingWatching();var t=this.api.videoStartWatching(this.lifecycleToken,this.isReplay,this.isVideoPreview).then(this.updateSession).then(this.startPingWatching);return this.isWatching=!0,t}},e.startPingWatching=function(){var t=this;this.stopPingWatching(),this.pingWatchingTimer=setInterval((function(){t.isWatching?t.api.videoPingWatching(t.session,t.isReplay):t.stopPingWatching()}),3e4)},e.stopPingWatching=function(){clearInterval(this.pingWatchingTimer)},e.updateLifecycleToken=function(t){void 0!==t&&t!==this.lifecycleToken&&(this.lifecycleToken=t,this.isWatching&&(this.stopWatching(),this.handleStartWatching()))},e.updateIsReplay=function(t){void 0!==t&&t!==this.isReplay&&(this.isReplay=t)},e.startWatching=function(){return this.isVideoPreview=!1,this.handleStartWatching()},e.startWatchingPreview=function(){this.isVideoPreview=!0,this.clearStartWatchingTimer(),this.setStartWatchingTimer()},e.stopWatching=function(){this.isWatching&&(this.stopPingWatching(),this.session&&this.api.videoStopWatching(this.session,this.isReplay),this.isWatching=!1)},e.destroy=function(){this.stopWatching(),this.clearStartWatchingTimer(),this.isVideoPreview=void 0,this.lifecycleToken=void 0,this.session=void 0,this.isReplay=void 0,this.isWatching=void 0,this.pingWatchingTimer=void 0},t}(),Ie=[rt,wt,Et,Ht,Ft],Ae=function(){function t(t,e){var i=this;this.analytics=t,this.lifecycleController=e,Ie.map((function(t){return i.analytics.on(t,i.possiblyHandleEvent.bind(i,t))}))}var e=t.prototype;return e.possiblyHandleEvent=function(t,e){if(this.shouldSendPeriscopeAnalytics(e)){var i=ae(e);switch(t){case rt:this.updateLifecycleToken(e),this.updateReplayState(!i.isLive);break;case wt:this.handleStartWatching(e);break;case Et:this.handleStopWatching(e);break;case Ht:this.handleStopWatching(e),this.updateReplayState(!0);break;case Ft:this.teardownPeriscopeLifecycle()}}},e.shouldSendPeriscopeAnalytics=function(t){var e=ae(t);return void 0!==e&&(e.contentType===$t||e.contentType===qt)},e.getLifecycleToken=function(t){return ae(t).lifecycleToken},e.updateLifecycleToken=function(t){var e=this.getLifecycleToken(t);this.lifecycleController.updateLifecycleToken(e)},e.updateReplayState=function(t){this.lifecycleController.updateIsReplay(t)},e.handleStartWatching=function(t){this.getLifecycleToken(t)&&(t.isPreview?this.lifecycleController.startWatchingPreview():this.lifecycleController.startWatching())},e.handleStopWatching=function(t){this.getLifecycleToken(t)&&this.lifecycleController.stopWatching()},e.teardownPeriscopeLifecycle=function(){this.lifecycleController.destroy(),this.lifecycleController=null},t}(),Ce=function(){function t(t){this.analytics=t,this.lapseMap={},this.analytics.on(Wt,this.onTickEvent.bind(this)),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this)),this.analytics.on(at,this.onAdSkipEvent.bind(this)),this.analytics.on(zt,this.onVideoViewEvent.bind(this))}var e=t.prototype;return e.onTrackFinishedEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.lapseMap[e.id];if(void 0!==i){i.timePlayedToMs=0;var n=ne(t);n&&n.contentType!==Jt&&!e.shouldLoop&&(this.emit(i,t),i.viewFired=!1)}}},e.onAdSkipEvent=function(t){this.onTickEvent(t);var e=ae(t);if(void 0!==e){var i=this.lapseMap[e.id];this.emit(i,t)}},e.onVideoViewEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.lapseMap[e.id];void 0===i&&(i=this.initializeLapseMapForTrack(e),this.lapseMap[e.id]=i),i.viewFired=!0}},e.onTickEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.lapseMap[e.id];void 0===i&&(i=this.initializeLapseMapForTrack(e),this.lapseMap[e.id]=i),t.isScrubbing?i.timePlayedToMs=e.currentTimeMs:(this.updateTimingData(e,i),this.checkPlaybackLapse(i,t))}},e.initializeLapseMapForTrack=function(t){return{timePlayedMs:0,timePlayedToMs:t.currentTimeMs,viewFired:!1}},e.updateTimingData=function(t,e){var i=t.currentTimeMs-e.timePlayedToMs;e.timePlayedToMs=t.currentTimeMs,e.timePlayedMs+=i},e.checkPlaybackLapse=function(t,e){t.timePlayedMs>1e4&&this.emit(t,e)},e.emit=function(t,e){var i=ne(e),n=t.viewFired,a=t.timePlayedMs;n&&a>0&&i&&i.contentType!==Xt&&(this.analytics.emit(Lt,e,{playback_lapse_ms:Math.round(a)}),t.timePlayedMs=0)},t}(),ke=function(t){return e="AD_CTA_TO_ENGAGEMENT_MAPPING_ERROR",(i=new Error("Unable to map CTA type to engagement type for: "+t)).name=e,i;var e,i},Oe=function(){function t(){}return t.set=function(e){t.report=e},t}();c()(Oe,"report",(function(t){}));var Le=((F={})[Nt]="playback_start",F[Mt]="playback_25",F[It]="playback_50",F[At]="playback_75",F[Ct]="playback_95",F[kt]="playback_complete",F[_t]="mrc_view",F[ut]="groupm_view",F[bt]="1sec_view",F[Pt]="6sec_view",F[Tt]="short_form_complete",F[zt]="view",F[St]="play_from_tap",F[Gt]="view_threshold",F),Ne=function(){function t(t,e){var i=this;this.promotedLogHandler=e,Object.keys(Le).forEach((function(e){t.on(e,(function(t,n){var a=ae(t);void 0!==a&&i.log(i.buildEventName(e,a),t,n)}))})),t.on(Nt,this.logImpression.bind(this)),t.on(st,this.onCtaClickEvent.bind(this)),t.on(Bt,this.onVideoSessionEvent.bind(this))}var e=t.prototype;return e.buildEventName=function(t,e){var i=Le[t];return"video_"+e.displayType+"_"+i},e.log=function(t,e,i,n){void 0===i&&(i={});var a=ae(e),r=this.getPromotedEventData(e,a);if(void 0!==r.impression_id){var s=this.getAmplifyDetailsData(e,a,i),o=JSON.stringify({amplify_details:s}),c=n&&JSON.stringify(n),l=Object.assign(r,s,{event:t,card_event:o,engagement_metadata:c});this.promotedLogHandler.log(l)}},e.logImpression=function(t){var e=ae(t);this.isPromotedTrack(t,e)&&this.log("impression",t)},e.onCtaClickEvent=function(t){var e=ae(t);if(void 0!==e){var i=e.cta;if(void 0!==i)if(e.displayType===Yt){var n=ie[i.type];n?this.log("video_"+e.displayType+"_cta_"+n+"_click",t):Oe.report(ke(i.type))}else this.log("video_cta_"+i.type+"_click",t)}},e.onVideoSessionEvent=function(t,e){void 0!==e&&this.log("video_session",t,{},e)},e.isPromotedTrack=function(t,e){return e&&e.impressionId&&e.disclosureType},e.getPromotedEventData=function(t,e){var i=e.disclosureType||t.disclosureType;return{impression_id:e.impressionId||t.impressionId,earned:"earned"===i}},e.getAmplifyDetailsData=function(t,e,i){var n=ne(t),a=se(t)||{};return Object.assign({content_id:n.contentId,dynamic_preroll_type:a.dynamicPrerollType,preroll_uuid:a.contentId,preroll_owner_id:a.publisherId,video_uuid:e.contentId,video_type:e.displayType===Kt?"video":"ad",video_is_muted:t.isMuted,video_visibility:Math.floor(100*t.percentVisible)},i)},t}(),xe=function(){function t(t){this.analytics=t,this.analytics.on(Wt,this.onTickEvent.bind(this))}return t.prototype.onTickEvent=function(t){var e=ae(t);void 0!==e&&(t.isScrubbing&&void 0===this.scrubbingStartTime?this.scrubbingStartTime=e.currentTimeMs:t.isScrubbing||void 0===this.scrubbingStartTime||(e.currentTimeMs<this.scrubbingStartTime&&this.analytics.emit(Rt,t),this.scrubbingStartTime=void 0))},t}(),Re=((W={})[zt]="video_view",W[St]="play_from_tap",W[Gt]="view_threshold",W[vt]="video_mrc_audible_view",W[_t]="video_mrc_view",W[Pt]="video_6sec_view",W[Tt]="video_short_form_complete",W[Nt]="playback_start",W[Mt]="playback_25",W[It]="playback_50",W[At]="playback_75",W[Ct]="playback_95",W[kt]="playback_complete",W[yt]="intent_to_play",W[wt]="play",W[Et]="pause",W[xt]="replay",W[ft]="loop",W[gt]="mute",W[Ut]="unmute",W[lt]="full_screen",W[Vt]="shrink",W[Lt]="playback_lapse",W[Ot]="error",W[Dt]="playback_startup_error",W[jt]="video_quality_view",W[at]="video_ad_skip",W),Ve=["playback_lapse","video_1sec_view","shrink","full_screen"].reduce((function(t,e){return t[e]=!0,t}),{}),De="tweet",Fe="client_event",We="live_video_heartbeat_event",He=7,Ue=13,Be=16,je=26,ze=28,Ge=1,Ye=2,Ke=1,qe=2,Je=["appplayer","poll2choice_video","poll3choice_video","poll4choice_video","promo_video_convo","promo_video_website","video_direct_message"],Xe=/^([0-9]{1,2})_([0-9]+)$/,Ze=function(){function t(t,e,i){var n=this;this.scribeHandler=e,this.context=i||{},this.isAdFormatsCard=-1!==Je.indexOf(this.context.cardType),Object.keys(Re).forEach((function(e){t.on(e,(function(t,i,a){n.scribe(Re[e],t,i,a)}))})),t.on(st,this.onCtaClickEvent.bind(this)),t.on(pt,this.onCtaImpressionEvent.bind(this)),t.on(ht,this.onHeartbeatEvent.bind(this))}var e=t.prototype;return e.onCtaClickEvent=function(t){var e=ae(t).cta;e&&e.type&&this.scribe("cta_"+e.type+"_click",t)},e.onCtaImpressionEvent=function(t){var e=ae(t).cta;e&&e.type&&this.scribe("cta_"+e.type+"_impression",t)},e.onHeartbeatEvent=function(t,e,i){var n=ne(t);if(void 0!==n){var a;switch(n.contentType){case Xt:case qt:a=We;break;default:a=Fe}this.scribe("heartbeat",t,e,i,a)}},e.scribe=function(t,e,i,n,a){void 0===i&&(i={}),void 0===n&&(n={}),void 0===a&&(a=Fe);var r,s,o=ne(e)||{},c=ae(e)||{},l=se(e)||{},u=e.session||{},h=(e.features||{}).isLiveTimecodeEnabled&&c.requestedTimecode>0?1e3*c.requestedTimecode:void 0;this.isActionSupportedInClientMediaEvent(t)&&(r={media_client_event_type:(s={},s[t]=n,s),session_state:{session_id:u.id,content_video_identifier:$e(this.getContentIdentifier(o),this.context.scribeContext),video_ads_passthrough_data:e.videoAnalyticsScribePassthrough,live_event_identifier:this.getLiveEventIdentifier(e,o.contentType),tweet_id:this.getTweetId(e.source,o.contentType)},playing_media_state:{video_type:c.displayType===Kt?Ye:Ge,media_asset_url:this.getVariantUrl(c),media_timecode_millis:pe(h),media_metadata:{broadcast_id:c.broadcastId,twitter_publisher_id:pe(c.publisherId),publisher_identifier:ti(c.publisherId,c.periscopePublisherId,this.context.scribeContext)},broadcast_media_state:ei(c.contentType,c.isLive)},player_state:{is_muted:e.isMuted}});var d=Object.assign({},this.getBaseItem(e.source,e.eventId),{media_asset_url:this.getVariantUrl(c),video_uuid:c.contentId,video_owner_id:c.publisherId,video_type:c.displayType===Kt?"video":"ad",promoted_id:c.impressionId||e.impressionId,content_id:o.contentId,dynamic_preroll_type:l.dynamicPrerollType,preroll_uuid:l.contentId,preroll_owner_id:l.publisherId,publisher_id:o.publisherId,media_session_id:u.id,video_analytics_scribe_passthrough:e.videoAnalyticsScribePassthrough,client_media_event:r,media_timecode_millis:h,disclosure_type:c.disclosureType||e.disclosureType},i,this.getLexMetadata(e,o));this.scribeHandler.log({namespace:{element:this.getScribeElement(o),action:t},category:a,data:{items:[d]}})},e.getContentIdentifier=function(t){var e=t.contentId,i=this.parseMediaKeyString(e);if(i)return{media_platform_identifier:i};switch(t.contentType){case Zt:case Jt:case Xt:case qt:return this.getMediaPlatformIdentifierUsingDefaultCategory(t);case ee:return this.isAdFormatsCard?{media_platform_identifier:{media_category:this.getMediaEntityCategoryUsingPlaybackUrl(t),media_id:e}}:{amplify_card_identifier:{vmap_url:t.vmapUrl,content_id:e}};case te:case $t:case Qt:default:return{unknown_identifier:{content_id:e}}}},e.parseMediaKeyString=function(t){var e=Xe.exec(t)||[],i=e[1],n=e[2],a=+i;if(a&&n)return{media_category:a,media_id:n}},e.getMediaPlatformIdentifierUsingDefaultCategory=function(t){var e=this.defaultMediaCategory(t);return e?{media_platform_identifier:{media_category:e,media_id:t.contentId}}:{unknown_identifier:{content_id:t.contentId}}},e.getMediaEntityCategoryUsingPlaybackUrl=function(t){var e=this.getVariantUrl(t);if(e){if(-1!==e.indexOf("amplify_video"))return Ue;if(-1!==e.indexOf("ext_tw_video"))return He}},e.defaultMediaCategory=function(t){switch(t.contentType){case Jt:return Be;case Xt:return je;case qt:return ze;case Zt:return this.getMediaEntityCategoryUsingPlaybackUrl(t);default:return}},e.getLiveEventIdentifier=function(t,e){return t.eventId?{lex_event_identifier:{lex_event_id:t.eventId}}:e===Xt?{legacy_live_event_identifier:{legacy_live_event_id:t.source.id}}:void 0},e.getTweetId=function(t,e){return e===qt||e===Xt?t.tweetId:t.type===De?t.id:void 0},e.getScribeElement=function(t){switch(t.contentType){case te:return"vine_player";case Jt:return"gif_player";case ee:return"platform_amplify_card";case Xt:case qt:return"live_video_player";case Qt:return"partner_video_player";case $t:return"periscope_player";case Zt:default:return"video_player"}},e.getBaseItem=function(t,e){var i=this.context.baseScribeItem;return i||(t.type===De?{id:t.id,item_type:"0"}:t.tweetId?{id:t.tweetId,item_type:"0"}:e?{id:e,item_type:"28"}:void 0)},e.getLexMetadata=function(t,e){var i=this.context.scribeContext||{},n={},a={};return e.broadcastId&&(n.is_replay_broadcast=!e.isLive,a.tweet_id=t.source.tweetId,"live_event_timeline"===i.page&&"tweet"!==i.component?n.host_broadcast_id=e.broadcastId:n.target_broadcast_id=e.broadcastId),t.eventId&&("live_event_timeline"===i.page&&"tweet"!==i.component?a.host_event_id=t.eventId:a.target_event_id=t.eventId),{live_broadcast_details:n,live_video_event_details:a}},e.getVariantUrl=function(t){var e=t.variants&&t.variants[t.currentVariantIndex];return e&&e.src},e.isActionSupportedInClientMediaEvent=function(t){return!Ve[t]},t}();function Qe(t){return t&&"messages"===t.page}function $e(t,e){return Qe(e)?{scrubbed_identifier:{}}:t}function ti(t,e,i){return Qe(i)?{scrubbed_publisher_identifier:{}}:t&&e?{twitter_periscope_publisher_identifier:{twitter_id:pe(t),periscope_id:e}}:t?{twitter_publisher_identifier:{id:pe(t)}}:e?{periscope_publisher_identifier:{id:e}}:{unknown_publisher_identifier:{}}}function ei(t,e){if(t===qt||t===Xt||t===$t)return{broadcast_state:e?Ke:qe}}var ii=function(){function t(t){this.analytics=t,this.analytics.on(xt,this.onReplayEvent.bind(this)),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this)),this.analytics.on(yt,this.onInitialIntendToPlayEvent.bind(this))}var e=t.prototype;return e.onInitialIntendToPlayEvent=function(t){this.resetLatencyStartDate(t.intentToPlayTime)},e.onReplayEvent=function(){this.resetLatencyStartDate()},e.onTrackFinishedEvent=function(t){this.resetLatencyStartDate(),this.trackId!==t.currentTrackId&&(this.trackId=t.currentTrackId)},e.resetLatencyStartDate=function(t){this.latencyStartDate=t||new Date},e.getLatencyData=function(){if(void 0!==this.latencyStartDate)return{latency:new Date-this.latencyStartDate}},t}(),ni=[{progress:.25,event:Mt},{progress:.5,event:It},{progress:.75,event:At},{progress:.95,event:Ct},{progress:1,event:kt}],ai=function(){function t(t){this.analytics=t,this.eventMap={},this.playbackLatencyListener=new ii(t),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this)),this.analytics.on(Wt,this.onTickEvent.bind(this))}var e=t.prototype;return e.onTrackFinishedEvent=function(t){var e=ae(t);void 0!==e&&(e.shouldLoop||(this.eventMap[t.currentTrackId]={}))},e.onTickEvent=function(t){var e=ae(t);if(void 0!==e&&e.durationMs){var i=this.eventMap[e.id];void 0===i&&(i={},this.eventMap[e.id]=i),this.checkAllTentpoles(e,i,t)}},e.checkAllTentpoles=function(t,e,i){if(i.isPlaying){var n=t.durationMs,a=t.currentTimeMs,r=this.playbackLatencyListener.getLatencyData()||{},s={latency_millis:r.latency,cache_info:{notCached:{}}};this.emitOnce(Nt,e,i,r,s),t.isLive||this.checkProgressTentpoles(n,a,e,i)}},e.checkProgressTentpoles=function(t,e,i,n){var a=this;ni.forEach((function(r){var s=r.progress*t;e>=s-1e3&&e<=s+1e3&&a.emitOnce(r.event,i,n)}))},e.emitOnce=function(t,e,i,n,a){e[t]||(this.analytics.emit(t,i,n,a),e[t]=!0)},t}(),ri=[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],si=((H={})[te]=2,H[Jt]=3,H[ee]=1,H[Zt]=1,H[Xt]=1,H[$t]=5,H[qt]=1,H),oi=function(){function t(t){this.analytics=t,this.sessionDataStore={},this.analytics.on(Wt,this.onTickEvent.bind(this)),this.analytics.on(lt,this.onFullscreenEvent.bind(this)),this.analytics.on(Vt,this.onShrinkEvent.bind(this)),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this)),this.analytics.on(at,this.onTrackInterrupt.bind(this)),this.analytics.on(Ft,this.onTrackInterrupt.bind(this))}var e=t.prototype;return e.onTickEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.getOrCreateNewSessionDataForTrack(e,t);t.isScrubbing?i.currentTimeMs=e.currentTimeMs:this.updateViewData(e,i,t)}},e.onFullscreenEvent=function(t){var e=ae(t);void 0!==e&&(this.getOrCreateNewSessionDataForTrack(e,t).isFullscreenMode=!0)},e.onShrinkEvent=function(t){var e=ae(t);void 0!==e&&(this.getOrCreateNewSessionDataForTrack(e,t).isFullscreenMode=!1)},e.onTrackFinishedEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.sessionDataStore[e.id];if(void 0!==i)if(e.shouldLoop)i.currentTimeMs=0;else{if(i.timeWatchedMs>0){var n=this.constructVideoSessionDetails(i,e);this.emitVideoSessionEvent(t,n)}this.sessionDataStore[e.id]=void 0}}},e.onTrackInterrupt=function(t){var e=ae(t);if(void 0!==e){var i=this.sessionDataStore[e.id];if(void 0!==i){if(i.timeWatchedMs>0){var n=this.constructVideoSessionDetails(i,e);this.emitVideoSessionEvent(t,n)}this.sessionDataStore[e.id]=void 0}}},e.getOrCreateNewSessionDataForTrack=function(t,e){var i=this.sessionDataStore[t.id];return void 0===i&&(i={sizesInfoAtTheStart:e.sizesInfo,currentTimeMs:t.currentTimeMs,isFullscreenMode:!1,timeWatchedMs:0,timeWatchedFullscreenMs:0,timeWatchedWithAudioMs:0,timeWatchedFullscreenWithAudioMs:0,watchedMsByInViewPct:this.generateNewAggregateHistogram(),watchedWithAudioMsByInViewPct:this.generateNewAggregateHistogram(),watchedMsByViewportPct:this.generateNewAggregateHistogram(),maxContinuousWatchedMsByInViewPct:this.generateNewMaxContinuousHistogram(),maxContinuousWatchedWithAudioMsByInViewPct:this.generateNewMaxContinuousHistogram()},this.sessionDataStore[t.id]=i),i},e.generateNewAggregateHistogram=function(){for(var t,e={},i=it(ri);!(t=i()).done;){e[t.value]=0}return e},e.generateNewMaxContinuousHistogram=function(){for(var t,e={},i=it(ri);!(t=i()).done;){e[t.value]={current:0,max:0}}return e},e.resetContinuousViewDataForHistogram=function(t){for(var e,i=it(ri);!(e=i()).done;){var n=e.value;this.resetContinuousViewDataForBucket(t[n])}},e.resetContinuousViewDataForBucket=function(t){t.max=Math.max(t.current,t.max),t.current=0},e.updateViewData=function(t,e,i){var n=t.currentTimeMs-e.currentTimeMs,a=e.isFullscreenMode?1:i.percentVisible,r=e.isFullscreenMode?1:i.percentOfViewportOccupied;e.currentTimeMs=t.currentTimeMs,n<0||(e.timeWatchedMs+=n,this.updateAggregateHistogram(e.watchedMsByInViewPct,a,n),this.updateAggregateHistogram(e.watchedMsByViewportPct,r,n),this.updateMaxContinuousHistogram(e.maxContinuousWatchedMsByInViewPct,a,n),i.isMuted?this.resetContinuousViewDataForHistogram(e.maxContinuousWatchedWithAudioMsByInViewPct):(e.timeWatchedWithAudioMs+=n,this.updateAggregateHistogram(e.watchedWithAudioMsByInViewPct,a,n),this.updateMaxContinuousHistogram(e.maxContinuousWatchedWithAudioMsByInViewPct,a,n)),e.isFullscreenMode&&(e.timeWatchedFullscreenMs+=n,i.isMuted||(e.timeWatchedFullscreenWithAudioMs+=n)))},e.updateAggregateHistogram=function(t,e,i){if(0!==e)for(var n,a=100*e,r=it(ri);!(n=r()).done;){var s=n.value;a>=s&&(t[s]+=i)}},e.updateMaxContinuousHistogram=function(t,e,i){if(0!==e)for(var n,a=100*e,r=it(ri);!(n=r()).done;){var s=n.value;a>=s?t[s].current+=i:t[s].current>0&&this.resetContinuousViewDataForBucket(t[s])}else this.resetContinuousViewDataForHistogram(t)},e.constructVideoSessionDetails=function(t,e){return{video_details:{is_preroll_video:e.displayType===Yt,video_length:Math.round(e.durationMs),time_watched:Math.round(t.timeWatchedMs),time_watched_fullscreen:Math.round(t.timeWatchedFullscreenMs),time_watched_with_audio:Math.round(t.timeWatchedWithAudioMs),time_watched_fullscreen_with_audio:Math.round(t.timeWatchedFullscreenWithAudioMs),time_watched_100_with_audio:Math.round(t.watchedWithAudioMsByInViewPct[100]),video_type:si[e.contentType],watched_ms_by_in_view_pct:this.constructAggregateHistogramPayload(t.watchedMsByInViewPct),watched_with_audio_ms_by_in_view_pct:this.constructAggregateHistogramPayload(t.watchedWithAudioMsByInViewPct),watched_ms_by_viewport_pct:this.constructAggregateHistogramPayload(t.watchedMsByViewportPct),max_continuous_watched_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(t.maxContinuousWatchedMsByInViewPct),max_continuous_watched_with_audio_ms_by_in_view_pct:this.constructMaxContinuousHistogramPayload(t.maxContinuousWatchedWithAudioMsByInViewPct),sizes_info_at_the_start:{viewport_size:t.sizesInfoAtTheStart.viewportSize,ad_size:t.sizesInfoAtTheStart.mediaSize}}}},e.constructAggregateHistogramPayload=function(t){for(var e,i={},n=it(ri);!(e=n()).done;){var a=e.value;i[a]=Math.round(t[a])}return{histogram:i}},e.constructMaxContinuousHistogramPayload=function(t){for(var e,i={},n=it(ri);!(e=n()).done;){var a=e.value,r=t[a];i[a]=Math.round(Math.max(r.current,r.max))}return{histogram:i}},e.emitVideoSessionEvent=function(t,e){this.analytics.emit(Bt,t,e)},t}(),ci=[zt,St,Gt,bt,ut,vt,_t,jt,Pt,Tt],li=[bt,vt,_t,jt],ui=function(){function t(t,e){this.analytics=t,this.context=e,this.eventMap={},this.analytics.on(Wt,this.onTickEvent.bind(this)),this.analytics.on(Ht,this.onTrackFinishedEvent.bind(this)),this.analytics.on(Et,this.onPauseEvent.bind(this))}var e=t.prototype;return e.onTrackFinishedEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.eventMap[e.id];void 0!==i&&(e.shouldLoop?i.timePlayedToMs=0:this.eventMap[e.id]=void 0)}},e.onPauseEvent=function(t){this.resetContinuousViewEventTimingData(t)},e.onTickEvent=function(t){var e=ae(t);if(void 0!==e){var i=this.eventMap[e.id];if(void 0===i){i={timePlayedToMs:e.currentTimeMs};for(var n,a=it(ci);!(n=a()).done;){i[n.value]={timePlayedMs:0,visibilityWeightedTimePlayedMs:0,fired:!1}}this.eventMap[e.id]=i}t.isScrubbing?(i.timePlayedToMs=e.currentTimeMs,this.resetContinuousViewEventTimingData(t)):(this.updateTimingData(e,i,t),this.checkViewEvents(e,i,t)),this.checkPlayFromTap(i,t)}},e.updateTimingData=function(t,e,i){var n=t.currentTimeMs-e.timePlayedToMs;e.timePlayedToMs=t.currentTimeMs;var a=i.percentVisible;a>=1&&(e[Gt].timePlayedMs+=n),a>=1?e[bt].timePlayedMs+=n:e[bt].timePlayedMs=0,a>=.5&&oe(i)?e[vt].timePlayedMs+=n:e[vt].timePlayedMs=0,a>=.5?e[_t].timePlayedMs+=n:e[_t].timePlayedMs=0,a>=1&&!i.isMuted&&(e[ut].timePlayedMs+=n),a>=.5?e[jt].timePlayedMs+=n:e[jt].timePlayedMs=0,e[Pt].timePlayedMs+=n,a>=.5&&(e[Pt].visibilityWeightedTimePlayedMs+=a*n),e[Tt].timePlayedMs+=n},e.resetContinuousViewEventTimingData=function(t){var e=this.eventMap[t.currentTrackId];if(void 0!==e)for(var i,n=it(li);!(i=n()).done;){e[i.value].timePlayedMs=0}},e.checkViewEvents=function(t,e,i){var n;e[Gt].timePlayedMs>=(!(n=t).isLive&&n.durationMs>0&&!n.shouldLoop?Math.min(n.durationMs-500,3e3):3e3)&&(this.emitOnce(Gt,e,i),this.emitOnce(zt,e,i)),e[bt].timePlayedMs>=1e3&&this.emitOnce(bt,e,i),e[ut].timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?.5*t.durationMs:Number.MAX_SAFE_INTEGER}(t)&&this.emitOnce(ut,e,i),e[vt].timePlayedMs>=2e3&&this.emitOnce(vt,e,i),e[_t].timePlayedMs>=2e3&&this.emitOnce(_t,e,i),e[jt].timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.95*t.durationMs,1e4):1e4}(t)&&this.emitOnce(jt,e,i);var a=e[Pt];a.timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.95*t.durationMs,6e3):6e3}(t)&&a.visibilityWeightedTimePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.5*t.durationMs,3e3):3e3}(t)&&this.emitOnce(Pt,e,i),this.context&&this.context.enableShortFormCompleteLogging&&e[Tt].timePlayedMs>=function(t){return!t.isLive&&t.durationMs>0?Math.min(.95*t.durationMs,15e3):15e3}(t)&&this.emitOnce(Tt,e,i)},e.checkPlayFromTap=function(t,e){e.isPlaying&&!e.isPreview&&(this.emitOnce(St,t,e),this.emitOnce(zt,t,e))},e.emitOnce=function(t,e,i){e[t].fired||(this.analytics.emit(t,i),e[t].fired=!0)},t}(),hi=function(t){function e(e,i,n,a){var r;(r=t.call(this)||this).scribeListener=new Ze(K()(r),e,a),r.promotedLogListener=new Ne(K()(r),i),r.tentpoleListener=new ai(K()(r)),r.viewListener=new ui(K()(r),a),r.playbackLapseListener=new Ce(K()(r)),r.errorListener=new he(K()(r)),r.beaconListener=new le(K()(r)),r.rewindListener=new xe(K()(r)),r.heartbeatListener=new ye(K()(r)),r.loopListener=new _e(K()(r)),r.intendToPlayListener=new ve(K()(r)),r.videoSessionListener=new oi(K()(r)),r.ctaImpressionListener=new ue(K()(r));var s=new Se(n,a),o=new Me(s);return r.lifecycleListener=new Ae(K()(r),o),r}J()(e,t);var i=e.prototype;return i.onTickEvent=function(t){this.emit(Wt,t)},i.onReplay=function(t){var e=ae(t);void 0!==e&&(e.shouldLoop||this.emit(xt,t))},i.onTrackFinished=function(t){this.emit(Ht,t)},i.onIntendToPlay=function(t){this.emit(mt,t)},i.onPlay=function(t){this.emit(wt,t)},i.onPause=function(t){this.emit(Et,t)},i.onMute=function(t){this.emit(gt,t)},i.onUnmute=function(t){this.emit(Ut,t)},i.onFullScreen=function(t){this.emit(lt,t)},i.onShrink=function(t){this.emit(Vt,t)},i.onAdSkip=function(t){this.emit(at,t)},i.onCtaImpression=function(t){this.emit(ot,t)},i.onCtaClick=function(t){this.emit(st,t)},i.onConfigLoaded=function(t){this.emit(rt,t)},i.onError=function(t,e){this.emit(ct,t,e)},i.onTeardown=function(t){this.emit(Ft,t)},e}($.a),di=i("Zl35"),pi=i("9Xij"),yi=i("iOGT"),mi=i("mf9H"),fi=i("gZV8"),vi=i("vF3p"),_i=i("S4UJ");class gi extends l.Component{constructor(...t){super(...t),c()(this,"_handlePlacementChange",t=>{this._updateAndNotify({placement:t},this.props.onChange)}),c()(this,"_handleObstructionChange",()=>{const{obstructionDetection:t,onChange:e}=this.props;this._updateAndNotify({obstructions:t.getObstructions()},e)}),c()(this,"_setPlacementRef",t=>{const{setAPI:e}=this.props;this._placementRef=t,e(this._placementRef?{sample:t=>this.sample(t)}:void 0)})}sample(t){this._placementRef&&this._placementRef.sample(e=>{this._updateAndNotify({placement:e},t)})}render(){const{children:t,style:e}=this.props;return l.createElement(fi.a,{onPlacementChange:this._handlePlacementChange,ref:this._setPlacementRef,style:e},t)}componentDidMount(){const{obstructionDetection:t}=this.props;this._obstructionSubscription=t.subscribe(this._handleObstructionChange)}componentWillUnmount(){this._obstructionSubscription&&(this._obstructionSubscription.unsubscribe(),this._obstructionSubscription=void 0)}_updateAndNotify({placement:t,obstructions:e},i){const{layerId:n,obstructionDetection:a}=this.props;this._placement=t||this._placement,this._obstructions=e||this._obstructions||a.getObstructions(),this._placement?i(new R(this._placement,this._obstructions,n)):this._placementRef&&this._placementRef.sample(t=>{this._placement=t,this._obstructions=this._obstructions||a.getObstructions(),i(new R(t,this._obstructions,n))})}}c()(gi,"defaultProps",{obstructionDetection:vi.a});var bi=Object(_i.a)(gi);const Pi=O.a.d58baa7e,Ti=new C.a({});class Ei extends l.Component{constructor(t,e){super(t,e),c()(this,"_videoRef",l.createRef()),c()(this,"_emitter",null),c()(this,"_playerInternal",null),c()(this,"_placementRef",null),c()(this,"_isLooping",!1),c()(this,"_renderLegacyPlayer",t=>{const{accessibilityLabel:e,analytics:i,source:{contentId:n,eventId:r,videoId:s,vmapUrl:o},cta:c,displayOptions:u,durationMs:h,intentToPlayTime:d,videoEl:p,viewCount:y,includeBroadcastEventAssociation:m,showControls:f,geolocationPrompt:v,timecode:_,mediaAvailability:g,noAuthHttpClient:b,publisherId:P,twitterAuthedHttpClient:T,language:E,maxLoopCount:w,videoPlayer:S}=this.props,M=u;return l.createElement(S,a()({accessibilityLabel:e,adProvider:this._tweetAdProvider(),analytics:i,contentId:n,controls:f,cta:c,customOverlay:this._deriveCustomOverlay(),disableHls:this._disableHls,displayOptions:M,durationMs:h,enableNativeFullscreen:this._enableNativeFullscreen,eventId:r,geolocationPrompt:v,httpClient:b,includeBroadcastEventAssociation:m,initiallyMutedCaptions:!0,intentToPlayTime:d,language:E,maxLoopCount:w,mediaAvailability:g,playbackSessionId:s.id,precache:this._precacheEnabled,publisherId:P,ref:f?void 0:this._videoRef,requestedTimecode:_,setPlayerApi:this._setPlayerApi,shortNumberFormatter:Pi,twitterAuthedHttpClient:T,videoEl:p,videoId:s,viewCount:y,vmapUrl:o},t))}),c()(this,"_renderHorizonPlayer",t=>{const{accessibilityLabel:e,analytics:i,source:{contentId:n,eventId:r,videoId:s,vmapUrl:o},cta:c,displayOptions:u,durationMs:h,intentToPlayTime:d,videoEl:p,viewCount:y,includeBroadcastEventAssociation:m,showControls:f,geolocationPrompt:v,timecode:_,mediaAvailability:g,noAuthHttpClient:b,publisherId:P,twitterAuthedHttpClient:T,language:E,maxLoopCount:w,videoPlayer:S,uiStack:M}=this.props;return l.createElement(di.b,a()({accessibilityLabel:e,adProvider:this._tweetAdProvider(),analytics:i,basePlayerClass:S,contentId:n,cta:c,disableHls:this._disableHls,durationMs:h,enableNativeFullscreen:this._enableNativeFullscreen,eventId:r,geolocationPrompt:v,httpClient:b,includeBroadcastEventAssociation:m,initiallyMutedCaptions:!0,intentToPlayTime:d,language:E,maxLoopCount:w,mediaAvailability:g,objectFitVideo:u&&u.objectFitVideo,onApiReady:this._handleApiReady,playbackSessionId:s.id,precache:this._precacheEnabled,publisherId:P,ref:f?void 0:this._videoRef,requestedTimecode:_,twitterAuthedHttpClient:T,videoEl:p,videoId:s,viewCount:y,vmapUrl:o},t),M)}),c()(this,"_setPlayerApi",t=>{const{onMuteChange:e,customOverlay:i}=this.props;"function"==typeof i&&(this._playerInternal=t,this.forceUpdate()),e&&(t.on("unmute",()=>e({isPlayerMuted:!1})),t.on("mute",()=>e({isPlayerMuted:!0}))),t&&(t.on("fullscreenEntered",()=>this._handleFullscreenChange({isPlayerFullscreen:!0})),t.on("fullscreenExited",()=>this._handleFullscreenChange({isPlayerFullscreen:!1}))),this._setPlayerInternal(t)}),c()(this,"_handleApiReady",this._setPlayerApi),c()(this,"_deriveCustomOverlay",()=>{const{customOverlay:t}=this.props;return"function"==typeof t?this._playerInternal?t(this._playerInternal,this._containerRef):null:t}),c()(this,"_getLoopingThreshold",()=>{const{loopingThresholdMs:t,source:{videoId:e}}=this.props;return t||"tweet"===e.type&&6e4||7e3}),c()(this,"_handleAutoPlayRequest",()=>{const{onAutoplay:t}=this.props;this._playerInternal&&(this._playerInternal.playPreview(),t&&t())}),c()(this,"_handlePauseRequest",()=>{const{onAutopause:t}=this.props;this._playerInternal&&(this._playerInternal.pause(),t&&t())}),c()(this,"_handlePlacementChange",t=>{this._emitter&&this._emitter.signalPlacementChange(t),this._playerInternal&&this._playerInternal.updatePosition(t.getPositionData())}),c()(this,"_handlePlaybackComplete",()=>{this._emitter&&this._emitter.signalPlaybackFinish()}),c()(this,"_handlePlaybackStarted",()=>{this._emitter&&this._emitter.signalPlay(),this.props.onPlaybackStarted&&this.props.onPlaybackStarted()}),c()(this,"_handlePlaybackPaused",()=>{this._emitter&&this._emitter.signalPause()}),c()(this,"_handlePlayerState",t=>{const{onPlayerState:e,onProgressChange:i}=this.props;e&&e(t);const n=(t.tracks||[]).find(e=>e.id===t.currentTrackId);if(n){const e=(n.currentTimeMs||0)/n.durationMs;i&&i(e,t.tracksFinished)}}),c()(this,"_handleError",t=>{const{onError:e}=this.props,{error:i}=t;i?(this._emitter&&(this._emitter.unregister(),this._emitter=void 0,this._hasInitialPlacementMeasurement=!1,this._lastPlayerError=i),t.errorInfo&&!t.errorInfo.canRetry&&(e&&e(),this._onErrorUnsubscribe&&this._onErrorUnsubscribe())):!this._emitter&&this._lastPlayerError&&(this._registerPlaybackCoordination(),this._submitInitialPlacement(),this._lastPlayerError=void 0)}),c()(this,"_handleFullscreenChange",t=>{const e=this.context.viewport;if(e&&(e.temporarilySuppressScrollListeners(2e3),G.a.isChrome()||G.a.isSafari()))if(t.isPlayerFullscreen)this._savedScrollPosition={y:e.scrollY(),x:e.scrollX()};else if(this._savedScrollPosition){const{x:t,y:i}=this._savedScrollPosition;this._savedScrollPosition=void 0,e.scrollTo(t,i)}const{onFullscreenChange:i}=this.props;i&&i(t)}),c()(this,"_registerPlaybackCoordination",()=>{const{autoplay:t,forwardPivotInfo:e,playbackCoordination:i}=this.props,n={onAutoPlayRequest:this._handleAutoPlayRequest,onPauseRequest:this._handlePauseRequest,canAutoplay:Object(j.a)(t,e),isLooping:this._isLooping};i&&(this._emitter=i.register(n))}),c()(this,"_setPlayerInternal",t=>{if(this._playerInternal=t,t){const{onPlayerState:e,onProgressChange:i}=this.props;(e||i)&&t.subscribe(this._handlePlayerState),this._onErrorUnsubscribe=t.subscribe(this._handleError),t.on("playbackComplete",this._handlePlaybackComplete),t.on("play",this._handlePlaybackStarted),t.on("pause",this._handlePlaybackPaused),this._registerPlaybackCoordination(),this._submitInitialPlacement()}if(this.props.setPlayer){const t=this._playerInternal&&{play:()=>{this._playerInternal&&this._playerInternal.play()},pause:()=>{this._playerInternal&&this._playerInternal.pause()},replay:()=>{this._playerInternal&&this._playerInternal.replay()}};this.props.setPlayer(t)}}),c()(this,"_setPlacementAPI",t=>{this._placementRef=t,this._submitInitialPlacement()}),c()(this,"_getTweetId",()=>{const{source:{videoId:t}}=this.props;if(t){if("tweet"===t.type)return t.id;if("broadcast"===t.type)return t.tweetId}}),c()(this,"_tweetAdProvider",()=>{const t=this._getTweetId();if(t)return()=>this.props.tweetAdProvider(t)}),this._enableNativeFullscreen=P.a.isTrue("responsive_web_video_native_fullscreen_enabled"),this._disableHls=!(G.a.isDesktopOS()||G.a.isAndroid()&&P.a.isTrue("web_video_hls_android_mse_enabled")),this._precacheEnabled=!G.a.isMobileOS()&&P.a.hasValue("responsive_web_video_precaching_8507","precaching")}componentDidMount(){if(!this._containerRef&&this._videoRef.current){const t=B.a.findDOMNode(this._videoRef.current);t instanceof HTMLElement&&(this._containerRef=t)}}componentDidUpdate(t){const{heightsReady:e}=this.props;!t.heightsReady&&e&&this._submitInitialPlacement()}render(){const{aspectRatio:t}=this.props;return l.createElement(pi.a,{ratio:t,style:wi.aspectRatio},l.createElement(bi,{onChange:this._handlePlacementChange,setAPI:this._setPlacementAPI,style:S.a.absoluteFill},this._renderPlayer()))}UNSAFE_componentWillReceiveProps(t){Object(L.a)(this.props.source,t.source)||this._emitter&&this._emitter.reset()}componentWillUnmount(){this._emitter&&(this._emitter.unregister(),this._emitter=null),this._onErrorUnsubscribe&&this._onErrorUnsubscribe()}_renderPlayer(){const{source:{variants:t},durationMs:e,forceLoop:i,videoType:n,poster:a,promotedContent:r,dataSaverMode:s}=this.props,o="animated_gif"===n,c="vine"===n,u=t&&t.length?o?"gif":"media_entity":"vmap";this._isLooping=!!(i||o||c||e&&e<=this._getLoopingThreshold());const h={bitrateCap:s?w.a.MEDIUM:void 0,contentType:u,featureProvider:P.a,loop:this._isLooping,poster:a&&a.url,promotedContext:r&&(r.impression_id||r.disclosure_type)?{impressionId:r.impression_id,disclosureType:r.disclosure_type}:void 0,variants:t&&Object(v.e)(Object(yi.c)(t,s?yi.a.MEDIUM:yi.a.HIGH).map(t=>({src:t.url,type:t.content_type})))};return l.createElement(A,{testID:z},Object(v.d)(this.props)?this._renderHorizonPlayer(h):this._renderLegacyPlayer(h))}_submitInitialPlacement(){const{heightsReady:t}=this.props,e=t&&!this._hasInitialPlacementMeasurement;this._emitter&&this._placementRef&&e&&(this._placementRef.sample(this._handlePlacementChange),this._hasInitialPlacementMeasurement=!0)}}c()(Ei,"contextTypes",{viewport:T.object}),c()(Ei,"defaultProps",{autoplay:E.b.Off,playbackCoordination:mi.b,showControls:!0,dataSaverMode:!1,geolocationPrompt:!0,heightsReady:!0,noAuthHttpClient:Ti,includeBroadcastEventAssociation:!1});const wi=S.a.create({aspectRatio:{zIndex:void 0}});var Si=i("fs1G"),Mi=i("64vW");class Ii extends l.PureComponent{constructor(t){super(t),c()(this,"_player",null),c()(this,"_getBaseItem",t=>{const{analytics:e,includeBroadcastEventAssociation:i,source:{videoId:n}}=this.props,{event_id:a}=e.contextualScribeData;let r;return r="broadcast"===n.type&&n.tweetId?n.tweetId:"broadcast"===n.type&&i&&a?a:n.id,t.find(t=>t.id===r)}),c()(this,"_createAnalytics",t=>{const e={log:this._scribeAction},{analytics:i}=this.props,n={log:P.a.isTrue("responsive_web_video_promoted_logging_enabled")?this._logPromotedVideoEvent:Si.a},a=i.contextualScribeNamespace,r=i.contextualScribeData,s=Array.isArray(r.items)?this._getBaseItem(r.items):void 0,o={scribeContext:Object.assign({},a),baseScribeItem:s,enableShortFormCompleteLogging:P.a.isTrue("responsive_web_video_pcomplete_enabled")};return new hi(e,n,t,o)}),c()(this,"_logPromotedVideoEvent",t=>{const{createLocalApiErrorHandler:e}=this.props;this.props.logPromotedVideoEvent(t).catch(e())}),c()(this,"_scribeAction",t=>{const{category:e,data:i,namespace:n}=t,{analytics:a}=this.props;(null==n?void 0:n.action)&&a.scribe(Object.assign({},n,{data:Object.assign({},i,{_category_:e})}))}),c()(this,"_setPlayer",t=>{if(this._player=t,this.props.setPlayer){const t=this._player&&{play:()=>{this._player&&this._player.play()},pause:()=>{this._player&&this._player.pause()},replay:()=>{this._player&&this._player.replay()}};this.props.setPlayer(t)}}),this._twitterAuthedHttpClient=t.getTwitterAuthedHttpClient(),this._analytics=this._createAnalytics(this._twitterAuthedHttpClient)}render(){const t=this.props,{tweetAdProvider:e}=t,i=s()(t,["createLocalApiErrorHandler","getTwitterAuthedHttpClient","tweetAdProvider"]),{heightsReady:n}=this.context;return l.createElement(Ei,a()({},i,{analytics:this._analytics,heightsReady:n,setPlayer:this._setPlayer,tweetAdProvider:e,twitterAuthedHttpClient:this._twitterAuthedHttpClient}))}}c()(Ii,"contextType",Mi.a);const Ai=b(Ii);e.default=Ai},RhWx:function(t,e,i){var n=i("tGbD"),a=i("twbh"),r=i("peMk"),s=i("d8WC");t.exports=function(t){return n(t)||a(t)||r(t)||s()}},UmhL:function(t,e,i){"use strict";var n=i("POz8"),a=i("2gZs");t.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},VjGk:function(t,e,i){var n,a,r=i("+nzf"),s=i("42G/"),o=0,c=0;t.exports=function(t,e,i){var l=e&&i||0,u=e||[],h=(t=t||{}).node||n,d=void 0!==t.clockseq?t.clockseq:a;if(null==h||null==d){var p=r();null==h&&(h=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=a=16383&(p[6]<<8|p[7]))}var y=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,f=y-o+(m-c)/1e4;if(f<0&&void 0===t.clockseq&&(d=d+1&16383),(f<0||y>o)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=y,c=m,a=d;var v=(1e4*(268435455&(y+=122192928e5))+m)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var _=y/4294967296*1e4&268435455;u[l++]=_>>>8&255,u[l++]=255&_,u[l++]=_>>>24&15|16,u[l++]=_>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var g=0;g<6;++g)u[l+g]=h[g];return e||s(u)}},"W/Kd":function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},Yyzf:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));i("IAdD");var n=i("ERkP"),a=i("t62R"),r=i("/yvb"),s=i("3XMw"),o=i.n(s),c=i("/C0/"),l=i("rHpw"),u=i("U+bB"),h=i("MWbm");const d=o.a.a9edea48;function p(t){const{displayBackgroundImage:e=!1,errorMessage:i,iconPlayError:s,imageSrc:o,onReloadPress:p}=t;return n.createElement(h.a,{style:[l.a.absoluteFill,e?null:y.blankOverlay]},e?n.createElement(n.Fragment,null,n.createElement(h.a,{style:y.backgroundImage},o&&n.createElement(u.a,{resizeMode:"cover",source:o,style:l.a.absoluteFill})),n.createElement(h.a,{style:y.overlay})):null,n.createElement(h.a,{style:y.errorContainer},n.createElement(h.a,null,s?n.createElement(c.a,{style:y.playErrorIcon}):null),n.createElement(h.a,{accessible:!0},n.createElement(a.c,{style:e?y.errorMsgTextWhite:y.errorMsgTextGray},i)),p?n.createElement(r.a,{onPress:p,style:y.buttonContainer,type:"primary"},d):null))}const y=l.a.create(t=>({backgroundImage:Object.assign({},l.a.absoluteFillObject,{filter:"blur(5px)"}),overlay:Object.assign({},l.a.absoluteFillObject,{backgroundColor:t.colors.translucentBlack77}),blankOverlay:{backgroundColor:t.colors.faintGray},buttonContainer:{justifyContent:"center",alignSelf:"center"},errorContainer:{justifyContent:"center",height:"100%",marginHorizontal:t.spaces.large},errorMsgTextWhite:{color:t.colors.white,textAlign:"center",marginBottom:t.spaces.medium},errorMsgTextGray:{color:t.colors.deepGray,textAlign:"center",marginBottom:t.spaces.medium},playErrorIcon:{fill:t.colors.deepGray,height:t.spaces.xxLarge,width:t.spaces.xxLarge,marginHorizontal:"auto",paddingBottom:t.spaces.medium,textAlignVertical:"middle"}}))},"ZeN/":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return s}));const n={LOW:32e4,MEDIUM:832e3,HIGH:2176e3},a={EVENT:"event",VISIT:"url",WATCH:"watch",IMAGE:"image",WATCH_NOW:"watch_now",SHOP:"shop"},r=3,s=["cover","contain"]},Zl35:function(t,e,i){"use strict";i.d(e,"a",(function(){return P}));i("IAdD"),i("kYxP");var n=i("97Jx"),a=i.n(n),r=i("LdEA"),s=i.n(r),o=i("KEM+"),c=i.n(o),l=i("ERkP"),u=i("9Xij"),h=i("mN6z");function d(t){let e=p(t);return t=>{const i=p(t);return Object(h.a)(e,i)||(e=i),e}}function p(t){if(!t||"object"!=typeof t)return t;const e=JSON.parse(JSON.stringify(t));return delete e.dataUsageBytes,e.tracks=e.tracks.map(t=>("number"==typeof t.currentTimeMs&&delete t.currentTimeMs,t)),e}var y=i("Yyzf"),m=i("7nmT"),f=i.n(m),v=i("rHpw");i("jQ/y"),i("JtPf");function _(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}class g extends l.Component{constructor(...t){super(...t),c()(this,"state",{playerApi:void 0,playerState:void 0,guestsState:void 0}),c()(this,"_initializeState",t=>{t&&(this._unsubscribe&&this._unsubscribe(),this.setState({playerApi:t}),this._unsubscribe=t.subscribe((t,e)=>this.setState({playerState:t,guestsState:e})))})}componentDidMount(){this._initializeState(this.props.playerApi)}componentDidUpdate(t){const{playerApi:e}=this.props;e!==t.playerApi&&this._initializeState(e)}render(){return this.props.children(this.state)}}class b extends l.Component{constructor(...t){super(...t),c()(this,"state",{players:{}}),c()(this,"_mounted",!1),c()(this,"_registerPlayer",(t,e)=>{const i=new Promise(i=>{setTimeout(()=>{this._mounted?this.setState(i=>({players:Object.assign({},i.players,{[t]:e})}),i):i()})});return()=>{i.then(()=>this._unregisterPlayer(t))}}),c()(this,"_unregisterPlayer",t=>{this._mounted&&this.setState(e=>{const i=this.state.players;return{players:s()(i,[t].map(_))}})}),c()(this,"_registrationContext",{registerPlayer:this._registerPlayer})}componentDidMount(){this._mounted=!0}componentWillUnmount(){this._mounted=!1}render(){return l.createElement(b.RegistrationContext.Provider,{value:this._registrationContext},l.createElement(b.ProviderContext.Provider,{value:this.state},this.props.children))}}function P({periodic:t,children:e}){const i=t?T.PeriodicContext.Consumer:T.Context.Consumer;return l.createElement(i,null,t=>{const{guestsState:i,playerApi:n,playerState:a,containerRef:r}=t;return n&&r&&a?e({guestsState:i,playerApi:n,playerState:a,containerRef:r}):null})}c()(b,"MetadataSubscriber",({playerId:t,children:e})=>l.createElement(b.ProviderContext.Consumer,null,({players:i})=>l.createElement(g,{playerApi:i&&i[t]},e))),c()(b,"RegistrationContext",l.createContext({registerPlayer:void 0})),c()(b,"ProviderContext",l.createContext({players:{}}));class T extends l.Component{constructor(...t){super(...t),c()(this,"_cache",{stablePlayerState:d(null)}),c()(this,"state",{hasError:null,guestsState:null,playerApi:null,playerState:null,stablePlayerState:null}),c()(this,"_renderCustomOverlay",()=>{const{children:t}=this.props,{guestsState:e,playerApi:i,stablePlayerState:n}=this.state;return i&&t?"function"==typeof t?t({guestsState:e,playerApi:i,playerState:n,containerRef:this._containerRef}):t:null}),c()(this,"_handleReload",()=>this.setState(()=>({hasError:null}))),c()(this,"_handlePlayerApi",t=>e=>{const{playerId:i}=this.props;this.setState({playerApi:e}),this.props.onApiReady&&this.props.onApiReady(e),i&&t&&(this._unregister=t(i,e)),this._unsubscribe=e.subscribe((t,e)=>{const i=this._cache.stablePlayerState(t);this.setState({stablePlayerState:i,playerState:t,guestsState:e}),this.props.onStateUpdate&&this.props.onStateUpdate(t,e)})})}componentWillUnmount(){this._unregister&&this._unregister(),this._unsubscribe&&this._unsubscribe()}componentDidUpdate(){if(!this._containerRef){const t=f.a.findDOMNode(this);t&&t instanceof HTMLElement&&(this._containerRef=t)}}componentDidCatch(t,e){const i={error:t,info:e};this.setState(()=>({hasError:i}))}render(){const{guestsState:t,playerApi:e,playerState:i,stablePlayerState:n}=this.state,r=this.props,{aspectRatio:o,objectFitVideo:c,basePlayerClass:h,size:d}=r,p=s()(r,["aspectRatio","children","objectFitVideo","onApiReady","onStateUpdate","playerId","basePlayerClass","size"]),m={guestsState:t,playerApi:e,playerState:i,containerRef:this._containerRef},f=Object.assign({},m,{playerState:n}),_=Object.assign({},p,{customOverlay:this._renderCustomOverlay(),displayOptions:{objectFitVideo:c}});return l.createElement(u.a,{ratio:o||v.a.theme.aspectRatios.landscape,style:[E.root,E[d]]},this.state.hasError?l.createElement(y.a,{onReloadPress:this._handleReload}):l.createElement(T.Context.Provider,{value:f},l.createElement(T.PeriodicContext.Provider,{value:m},l.createElement(b.RegistrationContext.Consumer,null,({registerPlayer:t})=>l.createElement(h,a()({},_,{setPlayerApi:this._handlePlayerApi(t)}))))))}}c()(T,"Consumer",P),c()(T,"defaultProps",{size:"fill"}),c()(T,"Context",l.createContext({guestsState:null,playerApi:null,playerState:null,containerRef:null})),c()(T,"PeriodicContext",l.createContext({guestsState:null,playerApi:null,playerState:null,containerRef:null}));const E=v.a.create({root:{position:"relative"},fill:{width:"100%",height:"100%"},small:{width:480,height:270},medium:{width:640,height:360},large:{width:800,height:450}});e.b=T},aLgo:function(t,e,i){i("aokA")("iterator")},cARO:function(t,e,i){var n=i("uLp7"),a=Date.prototype,r=a.toString,s=a.getTime;new Date(NaN)+""!="Invalid Date"&&n(a,"toString",(function(){var t=s.call(this);return t==t?r.call(this):"Invalid Date"}))},d8WC:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},hBpG:function(t,e,i){"use strict";var n=i("ax0f"),a=i("0FSu").find,r=i("7St7"),s=i("znGZ"),o=!0,c=s("find");"find"in[]&&Array(1).find((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!c},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("find")},ho0z:function(t,e,i){var n=i("1Mu/"),a=i("q9+l").f,r=Function.prototype,s=r.toString,o=/^\s*function ([^ (]*)/;n&&!("name"in r)&&a(r,"name",{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},iQ7j:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}},jwue:function(t,e,i){"use strict";var n=i("ax0f"),a=i("6OVi");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},kH1Z:function(t,e,i){i("ax0f")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},mf9H:function(t,e,i){"use strict";i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return u}));var n=i("KEM+"),a=i.n(n),r=i("jHwr"),s=i("+d3d"),o=(t,e)=>{if(0===t.length)return;let i=t[0],n=e(i);for(let a=1;a<t.length;a++){const r=t[a],s=e(r);s<n&&(i=r,n=s)}return i};const c=Object.freeze({INITIAL:"initial",AUTO_PAUSED:"autoPaused",USER_PAUSED:"userPaused",AUTO_PLAYING:"autoPlaying",USER_PLAYING:"userPlaying",FINISHED:"finished"});class l{constructor(t=.25){a()(this,"_players",[]),a()(this,"_setPlayerState",(t,e)=>{t.previousPlaybackState=t.playbackState,t.playbackState=e}),a()(this,"_updatePlaybackStates",()=>{const t=this._players.find(t=>t.playbackState===c.USER_PLAYING);t&&!this._canPlay(t)?(this._pausePlayer(t),this._triggerAutoplay()):t?this._stopAllExcept(t):this._triggerAutoplay()}),a()(this,"_scheduleUpdate",Object(s.a)(Object(r.a)(this._updatePlaybackStates,window.requestIdleCallback?t=>window.requestIdleCallback(t,{timeout:200}):window.requestAnimationFrame),300,{leading:!1,trailing:!0})),this._minimumVisibilityForAutoplay=t}register({canAutoplay:t,onAutoPlayRequest:e,onPauseRequest:i,isLooping:n}){const a={placement:void 0,playbackState:c.INITIAL,previousPlaybackState:c.INITIAL,commandHandlers:{onAutoPlayRequest:e,onPauseRequest:i},canAutoplay:t,isLooping:n};return this._players.push(a),{reset:()=>this._handleReset(a),signalPlacementChange:t=>this._handlePlacementChange(a,t),signalPlay:()=>this._handlePlay(a),signalPause:()=>this._handlePause(a),signalPlaybackFinish:()=>this._handlePlaybackFinished(a),unregister:()=>this._handleUnregister(a)}}_handlePlacementChange(t,e){const i=e.scrollY();t.placement=e,this._scrollY!==i&&(this._scrollY=i),t.playbackState===c.FINISHED&&0===e.visibleFraction()&&this._setPlayerState(t,c.INITIAL),this._scheduleUpdate()}_handlePlay(t){t.playbackState!==c.AUTO_PLAYING&&(t.previousPlaybackState===c.AUTO_PLAYING&&t.isLooping?this._setPlayerState(t,c.AUTO_PLAYING):this._setPlayerState(t,c.USER_PLAYING)),this._stopAllExcept(t)}_handlePause(t){t.playbackState!==c.AUTO_PAUSED&&this._setPlayerState(t,c.USER_PAUSED)}_handlePlaybackFinished(t){this._setPlayerState(t,c.FINISHED)}_handleReset(t){this._setPlayerState(t,c.INITIAL),this._scheduleUpdate()}_handleUnregister(t){const e=this._players.indexOf(t);e>=0&&this._players.splice(e,1),this._scheduleUpdate()}_triggerAutoplay(){const t=this._players.filter(t=>this._canAutoPlay(t)),e=this._findBestAutoplayFit(t);e?(this._stopAllExcept(e),this._autoPlayVideo(e)):this._players.forEach(t=>{t.playbackState===c.AUTO_PLAYING&&this._pausePlayer(t)})}_canAutoPlay(t){const e=!!t.placement&&t.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,i=t.playbackState===c.USER_PAUSED,n=t.playbackState===c.FINISHED;return t.canAutoplay&&e&&!i&&!n}_canPlay(t){const e=!!t.placement&&t.placement.visibleFraction()>=this._minimumVisibilityForAutoplay,i=!!t.placement&&t.placement.visibleFraction()>0;return!t.placement||i||e}_stopAllExcept(t){this._players.forEach(e=>{e===t||e.playbackState!==c.USER_PLAYING&&e.playbackState!==c.AUTO_PLAYING||this._pausePlayer(e)})}_pausePlayer(t){const{onPauseRequest:e}=t.commandHandlers;this._setPlayerState(t,c.AUTO_PAUSED),e()}_autoPlayVideo(t){const{onAutoPlayRequest:e}=t.commandHandlers;this._setPlayerState(t,c.AUTO_PLAYING),e()}_findBestAutoplayFit(t){return 0===this._scrollY?o(t,this._getDistanceToTop):o(t,this._getDistanceToCenter)}_getDistanceToCenter(t){return t.placement?t.placement.distanceToCenter():Number.MAX_VALUE}_getDistanceToTop(t){return t.placement?t.placement.distanceToTop():Number.MAX_VALUE}}const u=new l},peMk:function(t,e,i){var n=i("iQ7j");t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}},qL0z:function(t,e,i){var n=i("+nzf"),a=i("42G/");t.exports=function(t,e,i){var r=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var o=0;o<16;++o)e[r+o]=s[o];return e||a(s)}},sVFb:function(t,e,i){var n=i("ax0f"),a=i("9JhN"),r=i("ZORK"),s=[].slice,o=function(t){return function(e,i){var n=arguments.length>2,a=n?s.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,a)}:e,i)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(r)},{setTimeout:o(a.setTimeout),setInterval:o(a.setInterval)})},ssvU:function(t,e,i){i("ax0f")({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},tGbD:function(t,e,i){var n=i("iQ7j");t.exports=function(t){if(Array.isArray(t))return n(t)}},twbh:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},z84I:function(t,e,i){"use strict";var n=i("ax0f"),a=i("0FSu").map,r=i("GJtw"),s=i("znGZ"),o=r("map"),c=s("map");n({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},zh11:function(t,e,i){"use strict";var n=i("hpdy"),a=i("dSaG"),r=[].slice,s={},o=function(t,e,i){if(!(e in s)){for(var n=[],a=0;a<e;a++)n[a]="a["+a+"]";s[e]=Function("C,a","return new C("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=r.call(arguments,1),s=function(){var n=i.concat(r.call(arguments));return this instanceof s?o(e,n.length,n):e.apply(t,n)};return a(e.prototype)&&(s.prototype=e.prototype),s}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.InlinePlayer.f1f7a605.js.map